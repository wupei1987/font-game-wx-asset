var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var bigItem_1 = require("./view/bigItem");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("view/bigItem.ts", bigItem_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/Big.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();

},{"./view/bigItem":5}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var BigRank_1 = require("./view/BigRank");
var Main = /** @class */ (function () {
    function Main() {
        //设置子域
        Laya.isWXOpenDataContext = true;
        Laya.isWXPosMsg = true;
        //根据IDE设置初始化引擎		
        Laya.init(GameConfig_1.default.width, GameConfig_1.default.height);
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        Laya.stage.alignV = GameConfig_1.default.alignV;
        Laya.stage.alignH = GameConfig_1.default.alignH;
        // 关于透传接口，请参考: https://ldc2.layabox.com/doc/?nav=zh-ts-5-0-7
        if (Laya.Browser.onMiniGame)
            wx.onMessage(this.onWXMessage.bind(this));
        else
            Laya.loader.load("res/atlas/test.atlas", Laya.Handler.create(this, this.onComplete));
    }
    Main.prototype.onWXMessage = function (data) {
        if (data.url == null) {
            switch (data.cmd) {
                case "wx.setUserCloudStorage":
                    this._rank.getSelfData(Laya.Handler.create(this, function (storageObj) {
                        if (storageObj.wxgame.value1.wxgame.score < data.data.wxgame.score) {
                            this._rank.setSelfData(data.data);
                        }
                    }));
                    break;
                case "refreshRankList":
                    if (this._rank == null) {
                        return;
                    }
                    this._rank.refresh();
                    break;
            }
        }
        else {
            Laya.loader.load([data.url], Laya.Handler.create(this, this.onComplete));
        }
    };
    Main.prototype.onComplete = function () {
        //初始化rank排行榜
        this._rank = new BigRank_1.default();
        //初始化
        this._rank.init();
    };
    return Main;
}());
//激活启动类
new Main();

},{"./GameConfig":1,"./view/BigRank":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var View = Laya.View;
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var BigUI = /** @class */ (function (_super) {
            __extends(BigUI, _super);
            function BigUI() {
                return _super.call(this) || this;
            }
            BigUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(BigUI.uiView);
            };
            BigUI.uiView = { "type": "Scene", "props": { "width": 610, "height": 757 }, "compId": 2, "child": [{ "type": "Sprite", "props": { "y": 0, "x": 0, "texture": "test/2.png" }, "compId": 4 }, { "type": "List", "props": { "y": 104, "x": 13, "width": 585, "var": "_list", "vScrollBarSkin": " ", "spaceY": 20, "repeatX": 1, "height": 629, "elasticEnabled": true }, "compId": 3, "child": [{ "type": "bigItem", "props": { "runtime": "view/bigItem.ts", "renderType": "render" }, "compId": 5 }] }], "loadList": ["test/2.png"], "loadList3D": [] };
            return BigUI;
        }(Scene));
        test.BigUI = BigUI;
        REG("ui.test.BigUI", BigUI);
        var BigItemUI = /** @class */ (function (_super) {
            __extends(BigItemUI, _super);
            function BigItemUI() {
                return _super.call(this) || this;
            }
            BigItemUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(BigItemUI.uiView);
            };
            BigItemUI.uiView = { "type": "View", "props": { "width": 580, "height": 100 }, "compId": 2, "child": [{ "type": "Sprite", "props": { "y": 0, "x": 0, "width": 575, "texture": "test/3.png", "height": 99 }, "compId": 7 }, { "type": "Image", "props": { "y": 6, "x": 22, "width": 80, "var": "img_head", "skin": "test/4.png", "height": 80 }, "compId": 3, "child": [{ "type": "Sprite", "props": { "y": -1, "x": -1, "width": 82, "texture": "test/c1.png", "renderType": "mask", "height": 82 }, "compId": 10 }] }, { "type": "Label", "props": { "y": 38.5, "x": 136, "width": 259, "var": "text_name", "text": "名字", "overflow": "scroll", "height": 24, "fontSize": 20, "font": "Microsoft YaHei", "color": "#ffffff", "align": "center" }, "compId": 4 }, { "type": "Label", "props": { "y": 42.5, "x": 496, "var": "text_score", "text": "分数", "fontSize": 20, "color": "#ffffff", "align": "center" }, "compId": 5 }], "loadList": ["test/3.png", "test/4.png", "test/c1.png"], "loadList3D": [] };
            return BigItemUI;
        }(View));
        test.BigItemUI = BigItemUI;
        REG("ui.test.BigItemUI", BigItemUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));

},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var BigRank = /** @class */ (function (_super) {
    __extends(BigRank, _super);
    function BigRank() {
        var _this = _super.call(this) || this;
        /**获取好友排行榜时的key */
        _this._key = 'test10086';
        /**list初始化使用的数据 */
        _this.arr = [
            { index: 1, avatarIP: 'test/4.png', UserName: "测试用户1", RankValue: 100 },
            { index: 2, avatarIP: 'test/4.png', UserName: "测试用户2", RankValue: 75 },
            { index: 3, avatarIP: 'test/4.png', UserName: "测试用户3", RankValue: 50 },
            { index: 4, avatarIP: 'test/4.png', UserName: "测试用户4", RankValue: 25 }
        ];
        return _this;
    }
    /**
     * 初始化
     */
    BigRank.prototype.init = function () {
        Laya.stage.addChild(this);
        this._list.vScrollBarSkin = "";
    };
    BigRank.prototype.refresh = function () {
        if (Laya.Browser.onMiniGame) {
            // 直接展示数据
            this.getFriendData();
        }
        else {
            this.setlist(this.arr);
        }
    };
    /**
     * 获取好友排行
     */
    BigRank.prototype.getFriendData = function () {
        var _$this = this;
        wx.getFriendCloudStorage({
            keyList: [this._key],
            success: function (res) {
                //关于拿到的数据详细情况可以产看微信文档
                //https://developers.weixin.qq.com/minigame/dev/api/UserGameData.html
                var listData;
                var obj;
                var kv;
                var arr = [];
                console.log('-----------------getFriendCloudStorage------------');
                if (res.data) {
                    for (var i = 0; i < res.data.length; i++) {
                        obj = res.data[i];
                        if (!(obj.KVDataList.length))
                            continue;
                        //拉取数据是，使用了多少个key- KVDataList的数组就有多少
                        //更详细的KVData可以查看微信文档:https://developers.weixin.qq.com/minigame/dev/api/KVData.html
                        kv = obj.KVDataList[0];
                        if (kv.key != _$this._key)
                            continue;
                        kv = JSON.parse(kv.value);
                        listData = {};
                        listData.avatarIP = obj.avatarUrl;
                        listData.UserName = obj.nickname;
                        listData.openID = obj.openid;
                        listData.RankValue = kv.wxgame.value1.score;
                        listData.update_time = kv.wxgame.update_time;
                        arr.push(listData);
                    }
                    //根据RankValue排序
                    arr = arr.sort(function (a, b) {
                        return b.RankValue - a.RankValue;
                    });
                    //增加一个用于查看的index排名
                    for (var i = 0; i < arr.length; i++) {
                        arr[i].index = i + 1;
                    }
                    //设置数组
                    _$this.setlist(arr);
                }
            },
            fail: function (data) {
                console.log('------------------获取托管数据失败--------------------');
                console.log(data);
            }
        });
    };
    /**
     * 上报自己的数据
     * @param data 上报数据
     */
    BigRank.prototype.setSelfData = function (data) {
        var kvDataList = [];
        var obj = {};
        obj.wxgame = {};
        obj.wxgame.value1 = data;
        obj.wxgame.update_time = Laya.Browser.now();
        kvDataList.push({ "key": this._key, "value": JSON.stringify(obj) });
        wx.setUserCloudStorage({
            KVDataList: kvDataList,
            success: function (e) {
                console.log('-----success:' + JSON.stringify(e));
            },
            fail: function (e) {
                console.log('-----fail:' + JSON.stringify(e));
            },
            complete: function (e) {
                console.log('-----complete:' + JSON.stringify(e));
            }
        });
    };
    BigRank.prototype.getSelfData = function (handler) {
        var keyList = [];
        var obj = {};
        keyList.push(this._key);
        wx["getUserCloudStorage"]({
            keyList: keyList,
            success: function (e) {
                console.log('-----success:' + JSON.stringify(e));
                handler.runWith(JSON.parse(e["KVDataList"][0].value));
            },
            fail: function (e) {
                console.log('-----fail:' + JSON.stringify(e));
            },
            complete: function (e) {
                console.log('-----complete:' + JSON.stringify(e));
            }
        });
    };
    /**
     * 设置list arr
     * @param arr 赋值用的arr
     */
    BigRank.prototype.setlist = function (arr) {
        this._list.array = arr;
        this._list.refresh();
    };
    return BigRank;
}(layaMaxUI_1.ui.test.BigUI));
exports.default = BigRank;

},{"../ui/layaMaxUI":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var BigItem = /** @class */ (function (_super) {
    __extends(BigItem, _super);
    function BigItem() {
        return _super.call(this) || this;
    }
    Object.defineProperty(BigItem.prototype, "dataSource", {
        set: function (value) {
            if (!value)
                return;
            this.img_head.skin = value.avatarIP;
            this.text_name.text = value.UserName;
            this.text_score.text = value.RankValue;
        },
        enumerable: true,
        configurable: true
    });
    return BigItem;
}(layaMaxUI_1.ui.test.BigItemUI));
exports.default = BigItem;

},{"../ui/layaMaxUI":3}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL0xheWEvTGF5YUFpcklERV8yLjEuMGJldGExLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyIsInNyYy92aWV3L0JpZ1JhbmsudHMiLCJzcmMvdmlldy9iaWdJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRywwQ0FBb0M7QUFDcEM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQyxpQkFBTyxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQWhCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLGdCQUFnQixDQUFDO0lBQ2hDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxLQUFLLENBQUM7SUFDbkIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0IsNEJBQWlCLEdBQVMsSUFBSSxDQUFDO0lBTTFDLGlCQUFDO0NBbEJELEFBa0JDLElBQUE7a0JBbEJvQixVQUFVO0FBbUIvQixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7O0FDeEJsQiwyQ0FBc0M7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TyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xELENBQUM7WUFDRCxRQUFRLEVBQUMsVUFBUyxDQUFDO2dCQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RELENBQUM7U0FDSixDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0Q7OztPQUdHO0lBQ0sseUJBQU8sR0FBZixVQUFnQixHQUFHO1FBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUUsR0FBRyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQXpJSixBQXlJSyxDQXpJZ0MsY0FBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBeUk3Qzs7Ozs7O0FDMUlMLDZDQUFxQztBQUNqQztJQUFxQywyQkFBaUI7SUFDbEQ7ZUFDSSxpQkFBTztJQUNYLENBQUM7SUFFQSxzQkFBVywrQkFBVTthQUFyQixVQUFzQixLQUFLO1lBQ3hCLElBQUcsQ0FBQyxLQUFLO2dCQUNMLE9BQU87WUFDWCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1lBQ3BDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7WUFDckMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQztRQUMzQyxDQUFDOzs7T0FBQTtJQUNMLGNBQUM7QUFBRCxDQVpBLEFBWUMsQ0Fab0MsY0FBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBWXJEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgYmlnSXRlbSBmcm9tIFwiLi92aWV3L2JpZ0l0ZW1cIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwidGVzdC9CaWcuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInZpZXcvYmlnSXRlbS50c1wiLGJpZ0l0ZW0pO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuaW1wb3J0IEJpZ1JhbmsgZnJvbSBcIi4vdmlldy9CaWdSYW5rXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0IC8v6K6+572u5a2Q5Z+fXHJcblx0XHRMYXlhLmlzV1hPcGVuRGF0YUNvbnRleHQgPSB0cnVlO1xyXG5cdFx0TGF5YS5pc1dYUG9zTXNnID0gdHJ1ZTtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0TGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduViA9IEdhbWVDb25maWcuYWxpZ25WO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnbkggPSBHYW1lQ29uZmlnLmFsaWduSDtcclxuXHRcdC8vIOWFs+S6jumAj+S8oOaOpeWPo++8jOivt+WPguiAgzogaHR0cHM6Ly9sZGMyLmxheWFib3guY29tL2RvYy8/bmF2PXpoLXRzLTUtMC03XHJcblx0XHRpZihMYXlhLkJyb3dzZXIub25NaW5pR2FtZSlcclxuXHRcdFx0d3gub25NZXNzYWdlKHRoaXMub25XWE1lc3NhZ2UuYmluZCh0aGlzKSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdExheWEubG9hZGVyLmxvYWQoXCJyZXMvYXRsYXMvdGVzdC5hdGxhc1wiLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLm9uQ29tcGxldGUpKTtcclxuXHRcdFx0XHRcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb25XWE1lc3NhZ2UoZGF0YSA6IGFueSkgOiB2b2lke1xyXG5cdFx0aWYoZGF0YS51cmwgPT0gbnVsbClcclxuXHRcdHtcclxuXHRcdFx0c3dpdGNoKGRhdGEuY21kKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2FzZSBcInd4LnNldFVzZXJDbG91ZFN0b3JhZ2VcIjpcclxuXHRcdFx0XHRcdHRoaXMuX3JhbmsuZ2V0U2VsZkRhdGEoTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLGZ1bmN0aW9uKHN0b3JhZ2VPYmogOiBhbnkpIDp2b2lke1xyXG5cdFx0XHRcdFx0XHRpZihzdG9yYWdlT2JqLnd4Z2FtZS52YWx1ZTEud3hnYW1lLnNjb3JlPCBkYXRhLmRhdGEud3hnYW1lLnNjb3JlKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5fcmFuay5zZXRTZWxmRGF0YShkYXRhLmRhdGEpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KSlcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgXCJyZWZyZXNoUmFua0xpc3RcIjpcclxuXHRcdFx0XHRcdGlmKHRoaXMuX3JhbmsgPT0gbnVsbClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhpcy5fcmFuay5yZWZyZXNoKCk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSBcclxuXHRcdHtcclxuXHRcdFx0TGF5YS5sb2FkZXIubG9hZChbZGF0YS51cmxdLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyx0aGlzLm9uQ29tcGxldGUpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX3JhbmsgOiBCaWdSYW5rO1xyXG5cclxuXHRvbkNvbXBsZXRlKCk6IHZvaWQge1xyXG5cdFx0Ly/liJ3lp4vljJZyYW5r5o6S6KGM5qacXHJcblx0XHR0aGlzLl9yYW5rID0gbmV3IEJpZ1JhbmsoKTtcclxuXHRcdC8v5Yid5aeL5YyWXHJcblx0XHR0aGlzLl9yYW5rLmluaXQoKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xudmFyIFJFRzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XG5leHBvcnQgbW9kdWxlIHVpLnRlc3Qge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJpZ1VJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIF9saXN0OkxheWEuTGlzdDtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiU2NlbmVcIixcInByb3BzXCI6e1wid2lkdGhcIjo2MTAsXCJoZWlnaHRcIjo3NTd9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNwcml0ZVwiLFwicHJvcHNcIjp7XCJ5XCI6MCxcInhcIjowLFwidGV4dHVyZVwiOlwidGVzdC8yLnBuZ1wifSxcImNvbXBJZFwiOjR9LHtcInR5cGVcIjpcIkxpc3RcIixcInByb3BzXCI6e1wieVwiOjEwNCxcInhcIjoxMyxcIndpZHRoXCI6NTg1LFwidmFyXCI6XCJfbGlzdFwiLFwidlNjcm9sbEJhclNraW5cIjpcIiBcIixcInNwYWNlWVwiOjIwLFwicmVwZWF0WFwiOjEsXCJoZWlnaHRcIjo2MjksXCJlbGFzdGljRW5hYmxlZFwiOnRydWV9LFwiY29tcElkXCI6MyxcImNoaWxkXCI6W3tcInR5cGVcIjpcImJpZ0l0ZW1cIixcInByb3BzXCI6e1wicnVudGltZVwiOlwidmlldy9iaWdJdGVtLnRzXCIsXCJyZW5kZXJUeXBlXCI6XCJyZW5kZXJcIn0sXCJjb21wSWRcIjo1fV19XSxcImxvYWRMaXN0XCI6W1widGVzdC8yLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoQmlnVUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS50ZXN0LkJpZ1VJXCIsQmlnVUkpO1xyXG4gICAgZXhwb3J0IGNsYXNzIEJpZ0l0ZW1VSSBleHRlbmRzIFZpZXcge1xyXG5cdFx0cHVibGljIGltZ19oZWFkOkxheWEuSW1hZ2U7XG5cdFx0cHVibGljIHRleHRfbmFtZTpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyB0ZXh0X3Njb3JlOkxheWEuTGFiZWw7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgIHVpVmlldzphbnkgPXtcInR5cGVcIjpcIlZpZXdcIixcInByb3BzXCI6e1wid2lkdGhcIjo1ODAsXCJoZWlnaHRcIjoxMDB9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIlNwcml0ZVwiLFwicHJvcHNcIjp7XCJ5XCI6MCxcInhcIjowLFwid2lkdGhcIjo1NzUsXCJ0ZXh0dXJlXCI6XCJ0ZXN0LzMucG5nXCIsXCJoZWlnaHRcIjo5OX0sXCJjb21wSWRcIjo3fSx7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ5XCI6NixcInhcIjoyMixcIndpZHRoXCI6ODAsXCJ2YXJcIjpcImltZ19oZWFkXCIsXCJza2luXCI6XCJ0ZXN0LzQucG5nXCIsXCJoZWlnaHRcIjo4MH0sXCJjb21wSWRcIjozLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjotMSxcInhcIjotMSxcIndpZHRoXCI6ODIsXCJ0ZXh0dXJlXCI6XCJ0ZXN0L2MxLnBuZ1wiLFwicmVuZGVyVHlwZVwiOlwibWFza1wiLFwiaGVpZ2h0XCI6ODJ9LFwiY29tcElkXCI6MTB9XX0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjM4LjUsXCJ4XCI6MTM2LFwid2lkdGhcIjoyNTksXCJ2YXJcIjpcInRleHRfbmFtZVwiLFwidGV4dFwiOlwi5ZCN5a2XXCIsXCJvdmVyZmxvd1wiOlwic2Nyb2xsXCIsXCJoZWlnaHRcIjoyNCxcImZvbnRTaXplXCI6MjAsXCJmb250XCI6XCJNaWNyb3NvZnQgWWFIZWlcIixcImNvbG9yXCI6XCIjZmZmZmZmXCIsXCJhbGlnblwiOlwiY2VudGVyXCJ9LFwiY29tcElkXCI6NH0se1widHlwZVwiOlwiTGFiZWxcIixcInByb3BzXCI6e1wieVwiOjQyLjUsXCJ4XCI6NDk2LFwidmFyXCI6XCJ0ZXh0X3Njb3JlXCIsXCJ0ZXh0XCI6XCLliIbmlbBcIixcImZvbnRTaXplXCI6MjAsXCJjb2xvclwiOlwiI2ZmZmZmZlwiLFwiYWxpZ25cIjpcImNlbnRlclwifSxcImNvbXBJZFwiOjV9XSxcImxvYWRMaXN0XCI6W1widGVzdC8zLnBuZ1wiLFwidGVzdC80LnBuZ1wiLFwidGVzdC9jMS5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KEJpZ0l0ZW1VSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLnRlc3QuQmlnSXRlbVVJXCIsQmlnSXRlbVVJKTtcclxufVxyIiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmlnUmFuayBleHRlbmRzIHVpLnRlc3QuQmlnVUl7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKuiOt+WPluWlveWPi+aOkuihjOamnOaXtueahGtleSAqL1xyXG4gICAgICAgIHByaXZhdGUgX2tleTpTdHJpbmcgPSAndGVzdDEwMDg2JztcclxuICAgICAgICAvKipsaXN05Yid5aeL5YyW5L2/55So55qE5pWw5o2uICovXHJcbiAgICAgICAgcHJpdmF0ZSBhcnI6QXJyYXk8YW55PiA9IFtcclxuICAgICAgICB7aW5kZXg6MSxhdmF0YXJJUDondGVzdC80LnBuZycsVXNlck5hbWU6XCLmtYvor5XnlKjmiLcxXCIsUmFua1ZhbHVlOjEwMH0sXHJcbiAgICAgICAge2luZGV4OjIsYXZhdGFySVA6J3Rlc3QvNC5wbmcnLFVzZXJOYW1lOlwi5rWL6K+V55So5oi3MlwiLFJhbmtWYWx1ZTo3NX0sXHJcbiAgICAgICAge2luZGV4OjMsYXZhdGFySVA6J3Rlc3QvNC5wbmcnLFVzZXJOYW1lOlwi5rWL6K+V55So5oi3M1wiLFJhbmtWYWx1ZTo1MH0sXHJcbiAgICAgICAge2luZGV4OjQsYXZhdGFySVA6J3Rlc3QvNC5wbmcnLFVzZXJOYW1lOlwi5rWL6K+V55So5oi3NFwiLFJhbmtWYWx1ZToyNX1cclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWIneWni+WMllxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBpbml0KCkge1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLl9saXN0LnZTY3JvbGxCYXJTa2luID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyByZWZyZXNoKCkgOiB2b2lke1xyXG4gICAgICAgICAgICBpZihMYXlhLkJyb3dzZXIub25NaW5pR2FtZSl7XHJcbiAgICAgICAgICAgICAgICAvLyDnm7TmjqXlsZXnpLrmlbDmja5cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RnJpZW5kRGF0YSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0bGlzdCh0aGlzLmFycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiBcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDojrflj5blpb3lj4vmjpLooYxcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlICBnZXRGcmllbmREYXRhKCk6dm9pZHtcclxuICAgICAgICAgICAgdmFyIF8kdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHd4LmdldEZyaWVuZENsb3VkU3RvcmFnZSh7XHJcbiAgICAgICAgICAgICAgICBrZXlMaXN0Olt0aGlzLl9rZXldLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihyZXMpOnZvaWR7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lhbPkuo7mi7/liLDnmoTmlbDmja7or6bnu4bmg4XlhrXlj6/ku6XkuqfnnIvlvq7kv6HmlofmoaNcclxuICAgICAgICAgICAgICAgICAgICAvL2h0dHBzOi8vZGV2ZWxvcGVycy53ZWl4aW4ucXEuY29tL21pbmlnYW1lL2Rldi9hcGkvVXNlckdhbWVEYXRhLmh0bWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdERhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iajtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga3Y7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLWdldEZyaWVuZENsb3VkU3RvcmFnZS0tLS0tLS0tLS0tLScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDtpPHJlcy5kYXRhLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gcmVzLmRhdGFbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighKG9iai5LVkRhdGFMaXN0Lmxlbmd0aCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5ouJ5Y+W5pWw5o2u5piv77yM5L2/55So5LqG5aSa5bCR5Liqa2V5LSBLVkRhdGFMaXN055qE5pWw57uE5bCx5pyJ5aSa5bCRXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+abtOivpue7hueahEtWRGF0YeWPr+S7peafpeeci+W+ruS/oeaWh+ahozpodHRwczovL2RldmVsb3BlcnMud2VpeGluLnFxLmNvbS9taW5pZ2FtZS9kZXYvYXBpL0tWRGF0YS5odG1sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrdiA9IG9iai5LVkRhdGFMaXN0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoa3Yua2V5IT1fJHRoaXMuX2tleSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga3YgPSBKU09OLnBhcnNlKGt2LnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdERhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REYXRhLmF2YXRhcklQID0gb2JqLmF2YXRhclVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REYXRhLlVzZXJOYW1lID0gb2JqLm5pY2tuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdERhdGEub3BlbklEID0gb2JqLm9wZW5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REYXRhLlJhbmtWYWx1ZSA9IGt2Lnd4Z2FtZS52YWx1ZTEuc2NvcmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RGF0YS51cGRhdGVfdGltZT1rdi53eGdhbWUudXBkYXRlX3RpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChsaXN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/moLnmja5SYW5rVmFsdWXmjpLluo9cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyID0gYXJyLnNvcnQoZnVuY3Rpb24oYSxiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiLlJhbmtWYWx1ZSAtIGEuUmFua1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lop7liqDkuIDkuKrnlKjkuo7mn6XnnIvnmoRpbmRleOaOkuWQjVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPCBhcnIubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbaV0uaW5kZXggPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+iuvue9ruaVsOe7hFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfJHRoaXMuc2V0bGlzdChhcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICxmYWlsOmZ1bmN0aW9uKGRhdGEpOnZvaWR7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLeiOt+WPluaJmOeuoeaVsOaNruWksei0pS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDkuIrmiqXoh6rlt7HnmoTmlbDmja5cclxuICAgICAgICAgKiBAcGFyYW0gZGF0YSDkuIrmiqXmlbDmja5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc2V0U2VsZkRhdGEoZGF0YTpTdHJpbmcpOnZvaWR7XHJcbiAgICAgICAgICAgIHZhciBrdkRhdGFMaXN0ID0gW107XHJcbiAgICAgICAgICAgIHZhciBvYmo6YW55ID0ge307XHJcbiAgICAgICAgICAgIG9iai53eGdhbWUgPXt9O1xyXG4gICAgICAgICAgICBvYmoud3hnYW1lLnZhbHVlMSA9IGRhdGE7XHJcbiAgICAgICAgICAgIG9iai53eGdhbWUudXBkYXRlX3RpbWUgPSBMYXlhLkJyb3dzZXIubm93KCk7XHJcbiAgICAgICAgICAgIGt2RGF0YUxpc3QucHVzaCh7XCJrZXlcIjp0aGlzLl9rZXksXCJ2YWx1ZVwiOkpTT04uc3RyaW5naWZ5KG9iail9KTtcclxuICAgICAgICAgICAgd3guc2V0VXNlckNsb3VkU3RvcmFnZSh7XHJcbiAgICAgICAgICAgICAgICBLVkRhdGFMaXN0Omt2RGF0YUxpc3QsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKGUpOnZvaWR7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tc3VjY2VzczonICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZhaWw6ZnVuY3Rpb24oZSk6dm9pZHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1mYWlsOicgKyBKU09OLnN0cmluZ2lmeShlKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6ZnVuY3Rpb24oZSk6dm9pZHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1jb21wbGV0ZTonICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRTZWxmRGF0YShoYW5kbGVyIDogTGF5YS5IYW5kbGVyKTp2b2lke1xyXG4gICAgICAgICAgICB2YXIga2V5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgb2JqOmFueSA9IHt9O1xyXG4gICAgICAgICAgICBrZXlMaXN0LnB1c2godGhpcy5fa2V5KTtcclxuICAgICAgICAgICAgd3hbXCJnZXRVc2VyQ2xvdWRTdG9yYWdlXCJdKHtcclxuICAgICAgICAgICAgICAgIGtleUxpc3Q6a2V5TGlzdCxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24oZSA6IGFueVtdKTp2b2lke1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLXN1Y2Nlc3M6JyArIEpTT04uc3RyaW5naWZ5KGUpKTtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnJ1bldpdGgoSlNPTi5wYXJzZShlW1wiS1ZEYXRhTGlzdFwiXVswXS52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZhaWw6ZnVuY3Rpb24oZSk6dm9pZHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1mYWlsOicgKyBKU09OLnN0cmluZ2lmeShlKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6ZnVuY3Rpb24oZSk6dm9pZHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1jb21wbGV0ZTonICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6K6+572ubGlzdCBhcnJcclxuICAgICAgICAgKiBAcGFyYW0gYXJyIOi1i+WAvOeUqOeahGFyclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc2V0bGlzdChhcnIpOnZvaWR7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3QuYXJyYXkgPWFycjtcclxuICAgICAgICAgICAgdGhpcy5fbGlzdC5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4iLCJpbXBvcnQgeyB1aSB9ICBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCJcclxuICAgIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpZ0l0ZW0gZXh0ZW5kcyB1aS50ZXN0LkJpZ0l0ZW1VSXtcclxuICAgICAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgIHB1YmxpYyBzZXQgZGF0YVNvdXJjZSh2YWx1ZSl7XHJcbiAgICAgICAgICAgIGlmKCF2YWx1ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5pbWdfaGVhZC5za2luID0gdmFsdWUuYXZhdGFySVA7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dF9uYW1lLnRleHQgPSB2YWx1ZS5Vc2VyTmFtZTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0X3Njb3JlLnRleHQgPSB2YWx1ZS5SYW5rVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgIFxyXG4iXX0=
